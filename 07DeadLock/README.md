# Dead Lock 死锁

- 可抢占(Preemptable)资源和不可抢占资源
- 请求资源=>使用资源=>释放资源

### 死锁概述

- **定义**: 如果一个进程集合中的每个进程都在等待只能由该集合中的其它进程才能引发的事件，那么，该进程集合就是死锁的

##### 资源死锁的条件

- 1. 互斥条件，每个资源要么已经分配给了一个进程，要么就是可用的
- 2. 占有和等待条件, 已经得到了某个资源的进程可以再请求新的资源
- 3. 不可抢占条件, 已经分配给一个进程的资源不能强制性地被抢占，只能被占有它的进程释放
- 4. 环路等待条件, 死锁发生时，系统中一定由两个或两个以上的进程组成一条环路，该环路中的每个进程都在等待下一个进程占有的资源

### 鸵鸟算法

- 把头埋在沙子里，假装根本没有问题发生= =

### 死锁检测和死锁恢复

- :smile:避免和预防: 要来流感了，不出门躲着=>避免；打疫苗=>预防
- 解决办法: 打破环路等待，杀死所有进程(reset)或者。。。排队和抓阄(random)= = => 随机杀一个。。。以及 根据进程的年龄 => 优先杀掉年轻的进程
- 现有资源向量和可用资源向量
